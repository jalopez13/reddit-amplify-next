#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ™‚ Styling, testing and building your project before committing...'

# check tsconfig standards
npm run check-types || (
  echo 'ğŸ¤®  TypeScript check failed. Please fix the errors and try again.'
  exit 1
)

# check prettier
npm run check-format || (
  echo 'ğŸ¤®  Prettier check failed. Please fix the errors and try again.'
  exit 1
)

# check eslint standars
npm run check-lint || (
  echo 'ğŸ¤®  ESLint check failed. Please fix the errors and try again.'
  exit 1
)

echo 'ğŸ™‚ ğŸ‘ Code looks good, trying to build now...'

# check build
npm run build || (
  echo 'ğŸ¤®  Build failed. Please fix the errors and try again.'
  exit 1
)

echo 'ğŸ™‚ ğŸ‘ Build successful, ready to commit!'

